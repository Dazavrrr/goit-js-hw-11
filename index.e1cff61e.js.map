{"mappings":"AAAA,MAAMA,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAiBJ,SAASG,cAAc,cAE9C,IAAIE,EAAc,GACdC,EAAO,EAmBXC,eAAeC,IACb,MACMC,EAAM,qEAA4CJ,kEAA4EC,gBAEpI,IACE,MACMI,SADiBC,MAAMC,IAAIH,IACXC,KAEtB,GAAyB,IAArBA,EAAKG,KAAKC,OAOZ,YANa,IAATR,EACFS,EAAe,6EAEfA,EAAe,8DAgDrBX,EAAeY,MAAMC,QAAU,UAhCjC,SAAuBC,GACrB,MAAMC,EAAOD,EAAOE,KAAKC,GAI3B,SAAyBA,GACvB,MAAO,mDAESA,EAAMC,sBAAsBD,EAAME,+FAEPF,EAAMG,yDACNH,EAAMI,4DACHJ,EAAMK,gEACLL,EAAMM,6C,CAZlBC,CAAgBP,KAAQQ,KAAK,IAChE3B,EAAQ4B,mBAAmB,YAAaX,E,CAZtCY,CAAcrB,EAAKG,MACN,IAATP,GACFS,EAAe,oBAAoBL,EAAKsB,oB,CAE1C,MAAOC,GACPC,QAAQD,MAAMA,GACdlB,EAAe,mE,EA2BnB,SAASA,EAAeoB,GACtBC,SAASC,OAAOC,KAAKH,E,CArEvBpC,EAAKwC,iBAAiB,UAGtBhC,eAAgCiC,GAC9BA,EAAMC,iBACNpC,EAAcmC,EAAME,OAAOC,SAASC,YAAYC,MAChDvC,EAAO,EA2DPJ,EAAQ4C,UAAY,SAzDdtC,IAiENJ,EAAeY,MAAMC,QAAU,O,IAxEjCb,EAAemC,iBAAiB,SAWhChC,iBACED,UACME,G","sources":["src/index.js"],"sourcesContent":["const form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('.load-more');\n\nlet searchQuery = '';\nlet page = 1;\n\nform.addEventListener('submit', handleFormSubmit);\nloadMoreButton.addEventListener('click', handleLoadMore);\n\nasync function handleFormSubmit(event) {\n  event.preventDefault();\n  searchQuery = event.target.elements.searchQuery.value;\n  page = 1;\n  clearGallery();\n  await searchImages();\n  showLoadMoreButton();\n}\n\nasync function handleLoadMore() {\n  page++;\n  await searchImages();\n}\n\nasync function searchImages() {\n  const apiKey = '38089990-183f5db39cd80ce116037a369';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`;\n\n  try {\n    const response = await axios.get(url);\n    const data = response.data;\n\n    if (data.hits.length === 0) {\n      if (page === 1) {\n        displayMessage('Sorry, there are no images matching your search query. Please try again.');\n      } else {\n        displayMessage(\"We're sorry, but you've reached the end of search results.\");\n        hideLoadMoreButton();\n      }\n      return;\n    }\n\n    displayImages(data.hits);\n    if (page === 1) {\n      displayMessage(`Hooray! We found ${data.totalHits} images.`);\n    }\n  } catch (error) {\n    console.error(error);\n    displayMessage('An error occurred while fetching images. Please try again later.');\n  }\n}\n\nfunction displayImages(images) {\n  const html = images.map((image) => createImageCard(image)).join('');\n  gallery.insertAdjacentHTML('beforeend', html);\n}\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"photo-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction displayMessage(message) {\n  notiflix.Notify.info(message);\n}\n\nfunction showLoadMoreButton() {\n  loadMoreButton.style.display = 'block';\n}\n\nfunction hideLoadMoreButton() {\n  loadMoreButton.style.display = 'none';\n}"],"names":["$1f0dc3b9307be026$var$form","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreButton","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$page","async","$1f0dc3b9307be026$var$searchImages","url","data","axios","get","hits","length","$1f0dc3b9307be026$var$displayMessage","style","display","images","html","map","image","webformatURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$createImageCard","join","insertAdjacentHTML","$1f0dc3b9307be026$var$displayImages","totalHits","error","console","message","notiflix","Notify","info","addEventListener","event","preventDefault","target","elements","searchQuery","value","innerHTML"],"version":3,"file":"index.e1cff61e.js.map"}